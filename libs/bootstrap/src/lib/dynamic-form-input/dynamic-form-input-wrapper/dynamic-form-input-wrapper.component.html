<ng-container *ngIf="labelFloating; else noLabelFloating">
  <div class="input-group floating" *ngIf="inputAddOn || prefixAddOn || suffixAddOn; else noAddOns">
    <dynamic-form-element
      *ngIf="prefixAddOn && !prefixAddOn.hidden"
      class="dynamic-form-add-on prefix"
      [element]="prefixAddOn"
      [class.input-group-text]="prefixAddOn.classType === 'element'"
    ></dynamic-form-element>
    <div class="form-floating">
      <ng-container *ngTemplateOutlet="inputTemplate"></ng-container>
      <label *ngIf="label" class="form-label" [for]="inputId">{{ label }}<span *ngIf="requiredMarker"> *</span></label>
    </div>
    <dynamic-form-element
      *ngIf="inputAddOn && !inputAddOn.hidden"
      class="dynamic-form-add-on suffix"
      [element]="inputAddOn"
      [class.input-group-text]="inputAddOn.classType === 'element'"
    ></dynamic-form-element>
    <dynamic-form-element
      *ngIf="suffixAddOn && !suffixAddOn.hidden"
      class="dynamic-form-add-on suffix"
      [element]="suffixAddOn"
      [class.input-group-text]="suffixAddOn.classType === 'element'"
    ></dynamic-form-element>
  </div>
  <ng-template #noAddOns>
    <div class="form-floating">
      <ng-container *ngTemplateOutlet="inputTemplate"></ng-container>
      <label *ngIf="label" class="form-label" [for]="inputId">{{ label }}<span *ngIf="requiredMarker"> *</span></label>
    </div>
  </ng-template>
</ng-container>

<ng-template #noLabelFloating>
  <label *ngIf="label" class="form-label" [for]="inputId">{{ label }}<span *ngIf="requiredMarker"> *</span></label>
  <div class="input-group" *ngIf="inputAddOn || prefixAddOn || suffixAddOn; else noAddOns">
    <dynamic-form-element
      *ngIf="prefixAddOn && !prefixAddOn.hidden"
      class="dynamic-form-add-on prefix"
      [element]="prefixAddOn"
      [class.input-group-text]="prefixAddOn.classType === 'element'"
    ></dynamic-form-element>
    <ng-container *ngTemplateOutlet="inputTemplate"></ng-container>
    <dynamic-form-element
      *ngIf="inputAddOn && !inputAddOn.hidden"
      class="dynamic-form-add-on suffix"
      [element]="inputAddOn"
      [class.input-group-text]="inputAddOn.classType === 'element'"
    ></dynamic-form-element>
    <dynamic-form-element
      *ngIf="suffixAddOn && !suffixAddOn.hidden"
      class="dynamic-form-add-on suffix"
      [element]="suffixAddOn"
      [class.input-group-text]="suffixAddOn.classType === 'element'"
    ></dynamic-form-element>
  </div>
  <ng-template #noAddOns>
    <ng-container *ngTemplateOutlet="inputTemplate"></ng-container>
  </ng-template>
</ng-template>
